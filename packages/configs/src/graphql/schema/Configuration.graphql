#import Instrument, ObservationId, PosInt from 'lucuma-schemas/odb'

enum GuidingType {
  NORMAL
}

enum BaffleMode {
  AUTO
  MANUAL
  IGNORED
}

enum CentralBaffle {
  CLOSED
  OPEN
}

enum DeployableBaffle {
  EXTENDED
  NEAR_IR
  THERMAL_IR
  VISIBLE
}

type Configuration {
  pk: PosInt!
  selectedTarget: Int
  selectedOiTarget: Int
  selectedP1Target: Int
  selectedP2Target: Int
  oiGuidingType: GuidingType!
  p1GuidingType: GuidingType!
  p2GuidingType: GuidingType!
  obsTitle: String
  obsId: ObservationId
  obsInstrument: Instrument
  obsSubtitle: String
  obsReference: String
  baffleMode: BaffleMode!
  "Only when baffleMode is MANUAL"
  centralBaffle: CentralBaffle
  "Only when baffleMode is MANUAL"
  deployableBaffle: DeployableBaffle
}

type Query {
  configuration(pk: PosInt): Configuration
}

type Mutation {
  createConfiguration(
    selectedTarget: Int
    selectedOiTarget: Int
    selectedP1Target: Int
    selectedP2Target: Int
    oiGuidingType: GuidingType!
    p1GuidingType: GuidingType!
    p2GuidingType: GuidingType!
    obsTitle: String
    obsId: ObservationId
    obsInstrument: Instrument
    obsSubtitle: String
    obsReference: String
    baffleMode: BaffleMode!
    centralBaffle: CentralBaffle
    deployableBaffle: DeployableBaffle
  ): Configuration!

  updateConfiguration(
    pk: PosInt!
    selectedTarget: Int
    selectedOiTarget: Int
    selectedP1Target: Int
    selectedP2Target: Int
    oiGuidingType: GuidingType
    p1GuidingType: GuidingType
    p2GuidingType: GuidingType
    obsTitle: String
    obsId: ObservationId
    obsInstrument: Instrument
    obsSubtitle: String
    obsReference: String
    baffleMode: BaffleMode
    centralBaffle: CentralBaffle
    deployableBaffle: DeployableBaffle
  ): Configuration!
}
